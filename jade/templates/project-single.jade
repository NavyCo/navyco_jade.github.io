extend layout

prepend title
  - var project = getProject(basename);
  - var title = project.short_title || project.title;

block inner
  
  //- block の外で project の値を求めると、name の値が未定義なのでエラーとなる
  - var project = getProject(basename);
  
  section
    h1.page-title= project.title
    //-.line-wide
    div.project-info
      p
        span= project.time
        span.bar |
        span= project.role.join(' / ')
  
  section
    #slider
      ul
        if(project.imageFileNum)
          - for(var i=0; i < project.imageFileNum; i++)
            li
              img(src='/img/projects/' + basename + '/' + i + '.jpg')
        else
          - for(var i=0; i < 4; i++)
            li
              img(src='http://placehold.it/1248x702')
    #slider-select
      if(project.imageFileNum)
        - for(var i=0; i < project.imageFileNum; i++)
          a.pager(data-slide-index=i, href='')
            img(src='/img/projects/' + basename + '/' + i + '.jpg')
      else
        - for(var i=0; i < 4; i++)
          li
            img(src='http://placehold.it/1248x702')
      

  section
    if(project.links)
      ul.project-links
        each link in project.links
          li
            div= link.name
            a(href=link.url, target='_blank')= link.url
    
    - if(project.features)
      ul.features
        each feature in project.features
          li= feature
    
    //- 技術情報は Github に任せて、ここには掲載しないのも一手
    //- if(project.technologies)
      p.skill-code= project.technologies.join(', ')
    
    .project-description
      hr.line-wide
      //if(project.description)
        .skill-other
      if(typeof project.description === 'string')
        p!= project.description
      else if(Array.isArray(project.description))
        each paragraph in project.description
          p!= paragraph
    
    .prev-next
    
  
  block content
