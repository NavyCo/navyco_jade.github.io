/**
 * @license
 * Lo-Dash 2.4.1 (Custom Build) lodash.com/license | Underscore.js 1.5.2 underscorejs.org/LICENSE
 * Build: `lodash backbone --minify --output js/vendor/lodash.gruntbuild.min.js`
 */
;(function(){function n(n,r,t){t=(t||0)-1;for(var e=n?n.length:0;++t<e;)if(n[t]===r)return t;return-1}function r(n,r){for(var t=n.m,e=r.m,u=-1,o=t.length;++u<o;){var f=t[u],i=e[u];if(f!==i){if(f>i||typeof f=="undefined")return 1;if(f<i||typeof i=="undefined")return-1}}return n.n-r.n}function t(n,r,t){r||(r=0),typeof t=="undefined"&&(t=n?n.length:0);var e=-1;t=t-r||0;for(var u=Array(0>t?0:t);++e<t;)u[e]=n[r+e];return u}function e(n){return n instanceof e?n:new u(n)}function u(n,r){this.__chain__=!!r,this.__wrapped__=n
}function o(n){function r(){if(u){var n=t(u);pr.apply(n,arguments)}if(this instanceof r){var i=f(e.prototype),n=e.apply(i,n||arguments);return j(n)?n:i}return e.apply(o,n||arguments)}var e=n[0],u=n[2],o=n[4];return r}function f(n){return j(n)?vr(n):{}}function i(n,r,t){if(typeof n!="function")return P;if(typeof r=="undefined"||!("prototype"in n))return n;switch(t){case 1:return function(t){return n.call(r,t)};case 2:return function(t,e){return n.call(r,t,e)};case 3:return function(t,e,u){return n.call(r,t,e,u)
};case 4:return function(t,e,u,o){return n.call(r,t,e,u,o)}}return z(n,r)}function a(n){function r(){var n=p?c:this;if(o){var g=t(o);pr.apply(g,arguments)}return(i||v)&&(g||(g=t(arguments)),i&&pr.apply(g,i),v&&g.length<l)?(u|=16,a([e,h?u:-4&u,g,null,c,l])):(g||(g=arguments),s&&(e=n[y]),this instanceof r?(n=f(e.prototype),g=e.apply(n,g),j(g)?g:n):e.apply(n,g))}var e=n[0],u=n[1],o=n[2],i=n[3],c=n[4],l=n[5],p=1&u,s=2&u,v=4&u,h=8&u,y=e;return r}function c(n,r){for(var t=-1,e=y(),u=n?n.length:0,o=[];++t<u;){var f=n[t];
0>e(r,f)&&o.push(f)}return o}function l(n,r,t,e){e=(e||0)-1;for(var u=n?n.length:0,o=[];++e<u;){var f=n[e];if(f&&typeof f=="object"&&typeof f.length=="number"&&(_r(f)||m(f))){r||(f=l(f,r,t));var i=-1,a=f.length,c=o.length;for(o.length+=a;++i<a;)o[c++]=f[i]}else t||o.push(f)}return o}function p(n,r,t,u){if(n===r)return 0!==n||1/n==1/r;if(n===n&&!(n&&nr[typeof n]||r&&nr[typeof r]))return false;if(null==n||null==r)return n===r;var o=ir.call(n),f=ir.call(r);if(o!=f)return false;switch(o){case Q:case U:return+n==+r;
case W:return n!=+n?r!=+r:0==n?1/n==1/r:n==+r;case Y:case Z:return n==r+""}if(f=o==L,!f){var i=n instanceof e,a=r instanceof e;if(i||a)return p(i?n.__wrapped__:n,a?r.__wrapped__:r,t,u);if(o!=X)return false;if(o=n.constructor,i=r.constructor,o!=i&&!(_(o)&&o instanceof o&&_(i)&&i instanceof i)&&"constructor"in n&&"constructor"in r)return false}for(t||(t=[]),u||(u=[]),o=t.length;o--;)if(t[o]==n)return u[o]==r;var c=true,l=0;if(t.push(n),u.push(r),f){if(l=r.length,c=l==n.length)for(;l--&&(c=p(n[l],r[l],t,u)););}else Ar(r,function(r,e,o){return lr.call(o,e)?(l++,!(c=lr.call(n,e)&&p(n[e],r,t,u))&&J):void 0
}),c&&Ar(n,function(n,r,t){return lr.call(t,r)?!(c=-1<--l)&&J:void 0});return t.pop(),u.pop(),c}function s(n){return function(r,t,e){var u={};t=D(t,e,3),e=-1;var o=r?r.length:0;if(typeof o=="number")for(;++e<o;){var f=r[e];n(u,f,t(f,e,r),r)}else Or(r,function(r,e,o){n(u,r,t(r,e,o),o)});return u}}function v(n,r,t,e,u,f){var i=16&r,c=32&r;if(!(2&r||_(n)))throw new TypeError;return i&&!t.length&&(r&=-17,t=false),c&&!e.length&&(r&=-33,e=false),(1==r||17===r?o:a)([n,r,t,e,u,f])}function h(n){return wr[n]}function y(){var r=(r=e.indexOf)===$?n:r;
return r}function g(n){return typeof n=="function"&&ar.test(n)}function m(n){return n&&typeof n=="object"&&typeof n.length=="number"&&ir.call(n)==K||false}function b(n){if(!n)return n;for(var r=1,t=arguments.length;r<t;r++){var e=arguments[r];if(e)for(var u in e)n[u]=e[u]}return n}function d(n){var r=[];return Ar(n,function(n,t){_(n)&&r.push(t)}),r.sort()}function _(n){return typeof n=="function"}function j(n){return!(!n||!nr[typeof n])}function w(n){return typeof n=="string"||n&&typeof n=="object"&&ir.call(n)==Z||false
}function x(n){for(var r=-1,t=jr(n),e=t.length,u=Array(e);++r<e;)u[r]=n[t[r]];return u}function A(n,r){var t=y(),e=n?n.length:0,u=false;return e&&typeof e=="number"?u=-1<t(n,r):Or(n,function(n){return(u=n===r)&&J}),u}function O(n,r,t){var e=true;r=D(r,t,3),t=-1;var u=n?n.length:0;if(typeof u=="number")for(;++t<u&&(e=!!r(n[t],t,n)););else Or(n,function(n,t,u){return!(e=!!r(n,t,u))&&J});return e}function E(n,r,t){var e=[];r=D(r,t,3),t=-1;var u=n?n.length:0;if(typeof u=="number")for(;++t<u;){var o=n[t];r(o,t,n)&&e.push(o)
}else Or(n,function(n,t,u){r(n,t,u)&&e.push(n)});return e}function R(n,r,t){r=D(r,t,3),t=-1;var e=n?n.length:0;if(typeof e!="number"){var u;return Or(n,function(n,t,e){return r(n,t,e)?(u=n,J):void 0}),u}for(;++t<e;){var o=n[t];if(r(o,t,n))return o}}function k(n,r,t){var e=-1,u=n?n.length:0;if(r=r&&typeof t=="undefined"?r:i(r,t,3),typeof u=="number")for(;++e<u&&r(n[e],e,n)!==J;);else Or(n,r)}function I(n,r){var t=n?n.length:0;if(typeof t=="number")for(;t--&&false!==r(n[t],t,n););else{var e=jr(n),t=e.length;
Or(n,function(n,u,o){return u=e?e[--t]:--t,false===r(o[u],u,o)&&J})}}function S(n,r,t){var e=-1,u=n?n.length:0;if(r=D(r,t,3),typeof u=="number")for(var o=Array(u);++e<u;)o[e]=r(n[e],e,n);else o=[],Or(n,function(n,t,u){o[++e]=r(n,t,u)});return o}function B(n,r,t,e){if(!n)return t;var u=3>arguments.length;r=D(r,e,4);var o=-1,f=n.length;if(typeof f=="number")for(u&&(t=n[++o]);++o<f;)t=r(t,n[o],o,n);else Or(n,function(n,e,o){t=u?(u=false,n):r(t,n,e,o)});return t}function M(n,r,t,e){var u=3>arguments.length;
return r=D(r,e,4),I(n,function(n,e,o){t=u?(u=false,n):r(t,n,e,o)}),t}function T(n,r,t){var e;r=D(r,t,3),t=-1;var u=n?n.length:0;if(typeof u=="number")for(;++t<u&&!(e=r(n[t],t,n)););else Or(n,function(n,t,u){return(e=r(n,t,u))&&J});return!!e}function q(n,r,e){var u=0,o=n?n.length:0;if(typeof r!="number"&&null!=r){var f=-1;for(r=D(r,e,3);++f<o&&r(n[f],f,n);)u++}else if(u=r,null==u||e)return n?n[0]:G;return t(n,0,mr(gr(0,u),o))}function $(r,t,e){if(typeof e=="number"){var u=r?r.length:0;e=0>e?gr(0,u+e):e||0
}else if(e)return e=N(r,t),r[e]===t?e:-1;return n(r,t,e)}function F(n,r,e){if(typeof r!="number"&&null!=r){var u=0,o=-1,f=n?n.length:0;for(r=D(r,e,3);++o<f&&r(n[o],o,n);)u++}else u=null==r||e?1:gr(0,r);return t(n,u)}function N(n,r,t,e){var u=0,o=n?n.length:u;for(t=t?D(t,e,1):P,r=t(r);u<o;)e=u+o>>>1,t(n[e])<r?u=e+1:o=e;return u}function z(n,r){return 2<arguments.length?v(n,17,t(arguments,2),null,r):v(n,1,null,null,r)}function D(n,r,t){var e=typeof n;if(null==n||"function"==e)return i(n,r,t);if("object"!=e)return C(n);
var u=jr(n);return function(r){for(var t=u.length,e=false;t--&&(e=r[u[t]]===n[u[t]]););return e}}function P(n){return n}function V(n){k(d(n),function(r){var t=e[r]=n[r];e.prototype[r]=function(){var n=[this.__wrapped__];return pr.apply(n,arguments),n=t.apply(e,n),this.__chain__?new u(n,true):n}})}function C(n){return function(r){return r[n]}}var G,H=0,J={},K="[object Arguments]",L="[object Array]",Q="[object Boolean]",U="[object Date]",W="[object Number]",X="[object Object]",Y="[object RegExp]",Z="[object String]",nr={"boolean":false,"function":true,object:true,number:false,string:false,undefined:false},rr=nr[typeof window]&&window||this,tr=nr[typeof exports]&&exports&&!exports.nodeType&&exports,er=nr[typeof module]&&module&&!module.nodeType&&module,ur=er&&er.exports===tr&&tr,or=nr[typeof global]&&global;
!or||or.global!==or&&or.window!==or||(rr=or);var fr=[],or=Object.prototype,ir=or.toString,ar=RegExp("^"+(ir+"").replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),cr=Math.floor,lr=or.hasOwnProperty,pr=fr.push,sr=or.propertyIsEnumerable,vr=g(vr=Object.create)&&vr,hr=g(hr=Array.isArray)&&hr,yr=g(yr=Object.keys)&&yr,gr=Math.max,mr=Math.min,br=Math.random;u.prototype=e.prototype;var dr={};!function(){var n={0:1,length:1};dr.spliceObjects=(fr.splice.call(n,0,1),!n[0])}(1),vr||(f=function(){function n(){}return function(r){if(j(r)){n.prototype=r;
var t=new n;n.prototype=null}return t||rr.Object()}}()),m(arguments)||(m=function(n){return n&&typeof n=="object"&&typeof n.length=="number"&&lr.call(n,"callee")&&!sr.call(n,"callee")||false});var _r=hr||function(n){return n&&typeof n=="object"&&typeof n.length=="number"&&ir.call(n)==L||false},hr=function(n){var r,t=[];if(!n||!nr[typeof n])return t;for(r in n)lr.call(n,r)&&t.push(r);return t},jr=yr?function(n){return j(n)?yr(n):[]}:hr,wr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"},xr=RegExp("["+jr(wr).join("")+"]","g"),Ar=function(n,r){var t;
if(!n||!nr[typeof n])return n;for(t in n)if(r(n[t],t,n)===J)break;return n},Or=function(n,r){var t;if(!n||!nr[typeof n])return n;for(t in n)if(lr.call(n,t)&&r(n[t],t,n)===J)break;return n};_(/x/)&&(_=function(n){return typeof n=="function"&&"[object Function]"==ir.call(n)}),hr=s(function(n,r,t){lr.call(n,t)?n[t]++:n[t]=1}),or=s(function(n,r,t){(lr.call(n,t)?n[t]:n[t]=[]).push(r)}),e.bind=z,e.bindAll=function(n){for(var r=1<arguments.length?l(arguments,true,false,1):d(n),t=-1,e=r.length;++t<e;){var u=r[t];
n[u]=v(n[u],1,null,null,n)}return n},e.chain=function(n){return n=new u(n),n.__chain__=true,n},e.countBy=hr,e.defaults=function(n){if(!n)return n;for(var r=1,t=arguments.length;r<t;r++){var e=arguments[r];if(e)for(var u in e)"undefined"==typeof n[u]&&(n[u]=e[u])}return n},e.difference=function(n){return c(n,l(arguments,true,true,1))},e.filter=E,e.forEach=k,e.functions=d,e.groupBy=or,e.initial=function(n,r,e){var u=0,o=n?n.length:0;if(typeof r!="number"&&null!=r){var f=o;for(r=D(r,e,3);f--&&r(n[f],f,n);)u++
}else u=null==r||e?1:r||u;return t(n,0,mr(gr(0,o-u),o))},e.invert=function(n){for(var r=-1,t=jr(n),e=t.length,u={};++r<e;){var o=t[r];u[n[o]]=o}return u},e.invoke=function(n,r){var e=t(arguments,2),u=-1,o=typeof r=="function",f=n?n.length:0,i=Array(typeof f=="number"?f:0);return k(n,function(n){i[++u]=(o?r:n[r]).apply(n,e)}),i},e.keys=jr,e.map=S,e.max=function(n,r,t){var e=-1/0,u=e;typeof r!="function"&&t&&t[r]===n&&(r=null);var o=-1,f=n?n.length:0;if(null==r&&typeof f=="number")for(;++o<f;)t=n[o],t>u&&(u=t);
else r=D(r,t,3),k(n,function(n,t,o){t=r(n,t,o),t>e&&(e=t,u=n)});return u},e.min=function(n,r,t){var e=1/0,u=e;typeof r!="function"&&t&&t[r]===n&&(r=null);var o=-1,f=n?n.length:0;if(null==r&&typeof f=="number")for(;++o<f;)t=n[o],t<u&&(u=t);else r=D(r,t,3),k(n,function(n,t,o){t=r(n,t,o),t<e&&(e=t,u=n)});return u},e.omit=function(n){var r=[];Ar(n,function(n,t){r.push(t)});for(var r=c(r,l(arguments,true,false,1)),t=-1,e=r.length,u={};++t<e;){var o=r[t];u[o]=n[o]}return u},e.once=function(n){var r,t;if(!_(n))throw new TypeError;
return function(){return r?t:(r=true,t=n.apply(this,arguments),n=null,t)}},e.pairs=function(n){for(var r=-1,t=jr(n),e=t.length,u=Array(e);++r<e;){var o=t[r];u[r]=[o,n[o]]}return u},e.pick=function(n){for(var r=-1,t=l(arguments,true,false,1),e=t.length,u={};++r<e;){var o=t[r];o in n&&(u[o]=n[o])}return u},e.reject=function(n,r,t){return r=D(r,t,3),E(n,function(n,t,e){return!r(n,t,e)})},e.rest=F,e.shuffle=function(n){var r=-1,t=n?n.length:0,e=Array(typeof t=="number"?t:0);return k(n,function(n){var t;t=++r,t=0+cr(br()*(t-0+1)),e[r]=e[t],e[t]=n
}),e},e.sortBy=function(n,t,e){var u=-1,o=n?n.length:0,f=Array(typeof o=="number"?o:0);for(t=D(t,e,3),k(n,function(n,r,e){f[++u]={m:[t(n,r,e)],n:u,o:n}}),o=f.length,f.sort(r);o--;)f[o]=f[o].o;return f},e.toArray=function(n){return _r(n)?t(n):n&&typeof n.length=="number"?S(n):x(n)},e.values=x,e.without=function(n){return c(n,t(arguments,1))},e.collect=S,e.drop=F,e.each=k,e.extend=b,e.methods=d,e.select=E,e.tail=F,e.clone=function(n){return j(n)?_r(n)?t(n):b({},n):n},e.contains=A,e.escape=function(n){return null==n?"":(n+"").replace(xr,h)
},e.every=O,e.find=R,e.has=function(n,r){return n?lr.call(n,r):false},e.identity=P,e.indexOf=$,e.isArguments=m,e.isArray=_r,e.isEmpty=function(n){if(!n)return true;if(_r(n)||w(n))return!n.length;for(var r in n)if(lr.call(n,r))return false;return true},e.isEqual=function(n,r){return p(n,r)},e.isFunction=_,e.isObject=j,e.isRegExp=function(n){return n&&nr[typeof n]&&ir.call(n)==Y||false},e.isString=w,e.lastIndexOf=function(n,r,t){var e=n?n.length:0;for(typeof t=="number"&&(e=(0>t?gr(0,e+t):mr(t,e-1))+1);e--;)if(n[e]===r)return e;
return-1},e.mixin=V,e.reduce=B,e.reduceRight=M,e.result=function(n,r){if(n){var t=n[r];return _(t)?n[r]():t}},e.size=function(n){var r=n?n.length:0;return typeof r=="number"?r:jr(n).length},e.some=T,e.sortedIndex=N,e.uniqueId=function(n){var r=++H+"";return n?n+r:r},e.all=O,e.any=T,e.detect=R,e.foldl=B,e.foldr=M,e.include=A,e.inject=B,e.first=q,e.last=function(n,r,e){var u=0,o=n?n.length:0;if(typeof r!="number"&&null!=r){var f=o;for(r=D(r,e,3);f--&&r(n[f],f,n);)u++}else if(u=r,null==u||e)return n?n[o-1]:G;
return t(n,gr(0,o-u))},e.take=q,e.head=q,V(e),e.VERSION="2.4.1",e.prototype.chain=function(){return this.__chain__=true,this},e.prototype.value=function(){return this.__wrapped__},k("pop push reverse shift sort splice unshift".split(" "),function(n){var r=fr[n];e.prototype[n]=function(){var n=this.__wrapped__;return r.apply(n,arguments),dr.spliceObjects||0!==n.length||delete n[0],this}}),k(["concat","join","slice"],function(n){var r=fr[n];e.prototype[n]=function(){var n=r.apply(this.__wrapped__,arguments);
return this.__chain__&&(n=new u(n),n.__chain__=true),n}}),tr&&er?ur?(er.exports=e)._=e:tr._=e:rr._=e}).call(this);
//     Backbone.js 1.1.2
//     (c) 2010-2014 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Backbone may be freely distributed under the MIT license.
//     For all details and documentation:
//     http://backbonejs.org
!function(a,b){if("function"==typeof define&&define.amd)define(["underscore","jquery","exports"],function(c,d,e){a.Backbone=b(a,e,c,d)});else if("undefined"!=typeof exports){var c=require("underscore");b(a,exports,c)}else a.Backbone=b(a,{},a._,a.jQuery||a.Zepto||a.ender||a.$)}(this,function(a,b,c,d){{var e=a.Backbone,f=[],g=(f.push,f.slice);f.splice}b.VERSION="1.1.2",b.$=d,b.noConflict=function(){return a.Backbone=e,this},b.emulateHTTP=!1,b.emulateJSON=!1;var h=b.Events={on:function(a,b,c){if(!j(this,"on",a,[b,c])||!b)return this;this._events||(this._events={});var d=this._events[a]||(this._events[a]=[]);return d.push({callback:b,context:c,ctx:c||this}),this},once:function(a,b,d){if(!j(this,"once",a,[b,d])||!b)return this;var e=this,f=c.once(function(){e.off(a,f),b.apply(this,arguments)});return f._callback=b,this.on(a,f,d)},off:function(a,b,d){var e,f,g,h,i,k,l,m;if(!this._events||!j(this,"off",a,[b,d]))return this;if(!a&&!b&&!d)return this._events=void 0,this;for(h=a?[a]:c.keys(this._events),i=0,k=h.length;k>i;i++)if(a=h[i],g=this._events[a]){if(this._events[a]=e=[],b||d)for(l=0,m=g.length;m>l;l++)f=g[l],(b&&b!==f.callback&&b!==f.callback._callback||d&&d!==f.context)&&e.push(f);e.length||delete this._events[a]}return this},trigger:function(a){if(!this._events)return this;var b=g.call(arguments,1);if(!j(this,"trigger",a,b))return this;var c=this._events[a],d=this._events.all;return c&&k(c,b),d&&k(d,arguments),this},stopListening:function(a,b,d){var e=this._listeningTo;if(!e)return this;var f=!b&&!d;d||"object"!=typeof b||(d=this),a&&((e={})[a._listenId]=a);for(var g in e)a=e[g],a.off(b,d,this),(f||c.isEmpty(a._events))&&delete this._listeningTo[g];return this}},i=/\s+/,j=function(a,b,c,d){if(!c)return!0;if("object"==typeof c){for(var e in c)a[b].apply(a,[e,c[e]].concat(d));return!1}if(i.test(c)){for(var f=c.split(i),g=0,h=f.length;h>g;g++)a[b].apply(a,[f[g]].concat(d));return!1}return!0},k=function(a,b){var c,d=-1,e=a.length,f=b[0],g=b[1],h=b[2];switch(b.length){case 0:for(;++d<e;)(c=a[d]).callback.call(c.ctx);return;case 1:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f);return;case 2:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g);return;case 3:for(;++d<e;)(c=a[d]).callback.call(c.ctx,f,g,h);return;default:for(;++d<e;)(c=a[d]).callback.apply(c.ctx,b);return}},l={listenTo:"on",listenToOnce:"once"};c.each(l,function(a,b){h[b]=function(b,d,e){var f=this._listeningTo||(this._listeningTo={}),g=b._listenId||(b._listenId=c.uniqueId("l"));return f[g]=b,e||"object"!=typeof d||(e=this),b[a](d,e,this),this}}),h.bind=h.on,h.unbind=h.off,c.extend(b,h);var m=b.Model=function(a,b){var d=a||{};b||(b={}),this.cid=c.uniqueId("c"),this.attributes={},b.collection&&(this.collection=b.collection),b.parse&&(d=this.parse(d,b)||{}),d=c.defaults({},d,c.result(this,"defaults")),this.set(d,b),this.changed={},this.initialize.apply(this,arguments)};c.extend(m.prototype,h,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return c.clone(this.attributes)},sync:function(){return b.sync.apply(this,arguments)},get:function(a){return this.attributes[a]},escape:function(a){return c.escape(this.get(a))},has:function(a){return null!=this.get(a)},set:function(a,b,d){var e,f,g,h,i,j,k,l;if(null==a)return this;if("object"==typeof a?(f=a,d=b):(f={})[a]=b,d||(d={}),!this._validate(f,d))return!1;g=d.unset,i=d.silent,h=[],j=this._changing,this._changing=!0,j||(this._previousAttributes=c.clone(this.attributes),this.changed={}),l=this.attributes,k=this._previousAttributes,this.idAttribute in f&&(this.id=f[this.idAttribute]);for(e in f)b=f[e],c.isEqual(l[e],b)||h.push(e),c.isEqual(k[e],b)?delete this.changed[e]:this.changed[e]=b,g?delete l[e]:l[e]=b;if(!i){h.length&&(this._pending=d);for(var m=0,n=h.length;n>m;m++)this.trigger("change:"+h[m],this,l[h[m]],d)}if(j)return this;if(!i)for(;this._pending;)d=this._pending,this._pending=!1,this.trigger("change",this,d);return this._pending=!1,this._changing=!1,this},unset:function(a,b){return this.set(a,void 0,c.extend({},b,{unset:!0}))},clear:function(a){var b={};for(var d in this.attributes)b[d]=void 0;return this.set(b,c.extend({},a,{unset:!0}))},hasChanged:function(a){return null==a?!c.isEmpty(this.changed):c.has(this.changed,a)},changedAttributes:function(a){if(!a)return this.hasChanged()?c.clone(this.changed):!1;var b,d=!1,e=this._changing?this._previousAttributes:this.attributes;for(var f in a)c.isEqual(e[f],b=a[f])||((d||(d={}))[f]=b);return d},previous:function(a){return null!=a&&this._previousAttributes?this._previousAttributes[a]:null},previousAttributes:function(){return c.clone(this._previousAttributes)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=this,d=a.success;return a.success=function(c){return b.set(b.parse(c,a),a)?(d&&d(b,c,a),void b.trigger("sync",b,c,a)):!1},L(this,a),this.sync("read",this,a)},save:function(a,b,d){var e,f,g,h=this.attributes;if(null==a||"object"==typeof a?(e=a,d=b):(e={})[a]=b,d=c.extend({validate:!0},d),e&&!d.wait){if(!this.set(e,d))return!1}else if(!this._validate(e,d))return!1;e&&d.wait&&(this.attributes=c.extend({},h,e)),void 0===d.parse&&(d.parse=!0);var i=this,j=d.success;return d.success=function(a){i.attributes=h;var b=i.parse(a,d);return d.wait&&(b=c.extend(e||{},b)),c.isObject(b)&&!i.set(b,d)?!1:(j&&j(i,a,d),void i.trigger("sync",i,a,d))},L(this,d),f=this.isNew()?"create":d.patch?"patch":"update","patch"===f&&(d.attrs=e),g=this.sync(f,this,d),e&&d.wait&&(this.attributes=h),g},destroy:function(a){a=a?c.clone(a):{};var b=this,d=a.success,e=function(){b.trigger("destroy",b,b.collection,a)};if(a.success=function(c){(a.wait||b.isNew())&&e(),d&&d(b,c,a),b.isNew()||b.trigger("sync",b,c,a)},this.isNew())return a.success(),!1;L(this,a);var f=this.sync("delete",this,a);return a.wait||e(),f},url:function(){var a=c.result(this,"urlRoot")||c.result(this.collection,"url")||K();return this.isNew()?a:a.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(a){return a},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(a){return this._validate({},c.extend(a||{},{validate:!0}))},_validate:function(a,b){if(!b.validate||!this.validate)return!0;a=c.extend({},this.attributes,a);var d=this.validationError=this.validate(a,b)||null;return d?(this.trigger("invalid",this,d,c.extend(b,{validationError:d})),!1):!0}});var n=["keys","values","pairs","invert","pick","omit"];c.each(n,function(a){m.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.attributes),c[a].apply(c,b)}});var o=b.Collection=function(a,b){b||(b={}),b.model&&(this.model=b.model),void 0!==b.comparator&&(this.comparator=b.comparator),this._reset(),this.initialize.apply(this,arguments),a&&this.reset(a,c.extend({silent:!0},b))},p={add:!0,remove:!0,merge:!0},q={add:!0,remove:!1};c.extend(o.prototype,h,{model:m,initialize:function(){},toJSON:function(a){return this.map(function(b){return b.toJSON(a)})},sync:function(){return b.sync.apply(this,arguments)},add:function(a,b){return this.set(a,c.extend({merge:!1},b,q))},remove:function(a,b){var d=!c.isArray(a);a=d?[a]:c.clone(a),b||(b={});var e,f,g,h;for(e=0,f=a.length;f>e;e++)h=a[e]=this.get(a[e]),h&&(delete this._byId[h.id],delete this._byId[h.cid],g=this.indexOf(h),this.models.splice(g,1),this.length--,b.silent||(b.index=g,h.trigger("remove",h,this,b)),this._removeReference(h,b));return d?a[0]:a},set:function(a,b){b=c.defaults({},b,p),b.parse&&(a=this.parse(a,b));var d=!c.isArray(a);a=d?a?[a]:[]:c.clone(a);var e,f,g,h,i,j,k,l=b.at,n=this.model,o=this.comparator&&null==l&&b.sort!==!1,q=c.isString(this.comparator)?this.comparator:null,r=[],s=[],t={},u=b.add,v=b.merge,w=b.remove,x=!o&&u&&w?[]:!1;for(e=0,f=a.length;f>e;e++){if(i=a[e]||{},g=i instanceof m?h=i:i[n.prototype.idAttribute||"id"],j=this.get(g))w&&(t[j.cid]=!0),v&&(i=i===h?h.attributes:i,b.parse&&(i=j.parse(i,b)),j.set(i,b),o&&!k&&j.hasChanged(q)&&(k=!0)),a[e]=j;else if(u){if(h=a[e]=this._prepareModel(i,b),!h)continue;r.push(h),this._addReference(h,b)}h=j||h,!x||!h.isNew()&&t[h.id]||x.push(h),t[h.id]=!0}if(w){for(e=0,f=this.length;f>e;++e)t[(h=this.models[e]).cid]||s.push(h);s.length&&this.remove(s,b)}if(r.length||x&&x.length)if(o&&(k=!0),this.length+=r.length,null!=l)for(e=0,f=r.length;f>e;e++)this.models.splice(l+e,0,r[e]);else{x&&(this.models.length=0);var y=x||r;for(e=0,f=y.length;f>e;e++)this.models.push(y[e])}if(k&&this.sort({silent:!0}),!b.silent){for(e=0,f=r.length;f>e;e++)(h=r[e]).trigger("add",h,this,b);(k||x&&x.length)&&this.trigger("sort",this,b)}return d?a[0]:a},reset:function(a,b){b||(b={});for(var d=0,e=this.models.length;e>d;d++)this._removeReference(this.models[d],b);return b.previousModels=this.models,this._reset(),a=this.add(a,c.extend({silent:!0},b)),b.silent||this.trigger("reset",this,b),a},push:function(a,b){return this.add(a,c.extend({at:this.length},b))},pop:function(a){var b=this.at(this.length-1);return this.remove(b,a),b},unshift:function(a,b){return this.add(a,c.extend({at:0},b))},shift:function(a){var b=this.at(0);return this.remove(b,a),b},slice:function(){return g.apply(this.models,arguments)},get:function(a){return null==a?void 0:this._byId[a]||this._byId[a.id]||this._byId[a.cid]},at:function(a){return this.models[a]},where:function(a,b){return c.isEmpty(a)?b?void 0:[]:this[b?"find":"filter"](function(b){for(var c in a)if(a[c]!==b.get(c))return!1;return!0})},findWhere:function(a){return this.where(a,!0)},sort:function(a){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return a||(a={}),c.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(c.bind(this.comparator,this)),a.silent||this.trigger("sort",this,a),this},pluck:function(a){return c.invoke(this.models,"get",a)},fetch:function(a){a=a?c.clone(a):{},void 0===a.parse&&(a.parse=!0);var b=a.success,d=this;return a.success=function(c){var e=a.reset?"reset":"set";d[e](c,a),b&&b(d,c,a),d.trigger("sync",d,c,a)},L(this,a),this.sync("read",this,a)},create:function(a,b){if(b=b?c.clone(b):{},!(a=this._prepareModel(a,b)))return!1;b.wait||this.add(a,b);var d=this,e=b.success;return b.success=function(a,c){b.wait&&d.add(a,b),e&&e(a,c,b)},a.save(null,b),a},parse:function(a){return a},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(a,b){if(a instanceof m)return a;b=b?c.clone(b):{},b.collection=this;var d=new this.model(a,b);return d.validationError?(this.trigger("invalid",this,d.validationError,b),!1):d},_addReference:function(a){this._byId[a.cid]=a,null!=a.id&&(this._byId[a.id]=a),a.collection||(a.collection=this),a.on("all",this._onModelEvent,this)},_removeReference:function(a){this===a.collection&&delete a.collection,a.off("all",this._onModelEvent,this)},_onModelEvent:function(a,b,c,d){("add"!==a&&"remove"!==a||c===this)&&("destroy"===a&&this.remove(b,d),b&&a==="change:"+b.idAttribute&&(delete this._byId[b.previous(b.idAttribute)],null!=b.id&&(this._byId[b.id]=b)),this.trigger.apply(this,arguments))}});var r=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];c.each(r,function(a){o.prototype[a]=function(){var b=g.call(arguments);return b.unshift(this.models),c[a].apply(c,b)}});var s=["groupBy","countBy","sortBy","indexBy"];c.each(s,function(a){o.prototype[a]=function(b,d){var e=c.isFunction(b)?b:function(a){return a.get(b)};return c[a](this.models,e,d)}});var t=b.View=function(a){this.cid=c.uniqueId("view"),a||(a={}),c.extend(this,c.pick(a,v)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},u=/^(\S+)\s*(.*)$/,v=["model","collection","el","id","attributes","className","tagName","events"];c.extend(t.prototype,h,{tagName:"div",$:function(a){return this.$el.find(a)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(a,c){return this.$el&&this.undelegateEvents(),this.$el=a instanceof b.$?a:b.$(a),this.el=this.$el[0],c!==!1&&this.delegateEvents(),this},delegateEvents:function(a){if(!a&&!(a=c.result(this,"events")))return this;this.undelegateEvents();for(var b in a){var d=a[b];if(c.isFunction(d)||(d=this[a[b]]),d){var e=b.match(u),f=e[1],g=e[2];d=c.bind(d,this),f+=".delegateEvents"+this.cid,""===g?this.$el.on(f,d):this.$el.on(f,g,d)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(c.result(this,"el"),!1);else{var a=c.extend({},c.result(this,"attributes"));this.id&&(a.id=c.result(this,"id")),this.className&&(a["class"]=c.result(this,"className"));var d=b.$("<"+c.result(this,"tagName")+">").attr(a);this.setElement(d,!1)}}}),b.sync=function(a,d,e){var f=x[a];c.defaults(e||(e={}),{emulateHTTP:b.emulateHTTP,emulateJSON:b.emulateJSON});var g={type:f,dataType:"json"};if(e.url||(g.url=c.result(d,"url")||K()),null!=e.data||!d||"create"!==a&&"update"!==a&&"patch"!==a||(g.contentType="application/json",g.data=JSON.stringify(e.attrs||d.toJSON(e))),e.emulateJSON&&(g.contentType="application/x-www-form-urlencoded",g.data=g.data?{model:g.data}:{}),e.emulateHTTP&&("PUT"===f||"DELETE"===f||"PATCH"===f)){g.type="POST",e.emulateJSON&&(g.data._method=f);var h=e.beforeSend;e.beforeSend=function(a){return a.setRequestHeader("X-HTTP-Method-Override",f),h?h.apply(this,arguments):void 0}}"GET"===g.type||e.emulateJSON||(g.processData=!1),"PATCH"===g.type&&w&&(g.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var i=e.xhr=b.ajax(c.extend(g,e));return d.trigger("request",d,i,e),i};var w=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),x={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};b.ajax=function(){return b.$.ajax.apply(b.$,arguments)};var y=b.Router=function(a){a||(a={}),a.routes&&(this.routes=a.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},z=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,B=/\*\w+/g,C=/[\-{}\[\]+?.,\\\^$|#\s]/g;c.extend(y.prototype,h,{initialize:function(){},route:function(a,d,e){c.isRegExp(a)||(a=this._routeToRegExp(a)),c.isFunction(d)&&(e=d,d=""),e||(e=this[d]);var f=this;return b.history.route(a,function(c){var g=f._extractParameters(a,c);f.execute(e,g),f.trigger.apply(f,["route:"+d].concat(g)),f.trigger("route",d,g),b.history.trigger("route",f,d,g)}),this},execute:function(a,b){a&&a.apply(this,b)},navigate:function(a,c){return b.history.navigate(a,c),this},_bindRoutes:function(){if(this.routes){this.routes=c.result(this,"routes");for(var a,b=c.keys(this.routes);null!=(a=b.pop());)this.route(a,this.routes[a])}},_routeToRegExp:function(a){return a=a.replace(C,"\\$&").replace(z,"(?:$1)?").replace(A,function(a,b){return b?a:"([^/?]+)"}).replace(B,"([^?]*?)"),new RegExp("^"+a+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(a,b){var d=a.exec(b).slice(1);return c.map(d,function(a,b){return b===d.length-1?a||null:a?decodeURIComponent(a):null})}});var D=b.History=function(){this.handlers=[],c.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},E=/^[#\/]|\s+$/g,F=/^\/+|\/+$/g,G=/msie [\w.]+/,H=/\/$/,I=/#.*$/;D.started=!1,c.extend(D.prototype,h,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(a){var b=(a||this).location.href.match(/#(.*)$/);return b?b[1]:""},getFragment:function(a,b){if(null==a)if(this._hasPushState||!this._wantsHashChange||b){a=decodeURI(this.location.pathname+this.location.search);var c=this.root.replace(H,"");a.indexOf(c)||(a=a.slice(c.length))}else a=this.getHash();return a.replace(E,"")},start:function(a){if(D.started)throw new Error("Backbone.history has already been started");D.started=!0,this.options=c.extend({root:"/"},this.options,a),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var d=this.getFragment(),e=document.documentMode,f=G.exec(navigator.userAgent.toLowerCase())&&(!e||7>=e);if(this.root=("/"+this.root+"/").replace(F,"/"),f&&this._wantsHashChange){var g=b.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=g.hide().appendTo("body")[0].contentWindow,this.navigate(d)}this._hasPushState?b.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!f?b.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=d;var h=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&h.hash&&(this.fragment=this.getHash().replace(E,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){b.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),D.started=!1},route:function(a,b){this.handlers.unshift({route:a,callback:b})},checkUrl:function(){var a=this.getFragment();return a===this.fragment&&this.iframe&&(a=this.getFragment(this.getHash(this.iframe))),a===this.fragment?!1:(this.iframe&&this.navigate(a),void this.loadUrl())},loadUrl:function(a){return a=this.fragment=this.getFragment(a),c.any(this.handlers,function(b){return b.route.test(a)?(b.callback(a),!0):void 0})},navigate:function(a,b){if(!D.started)return!1;b&&b!==!0||(b={trigger:!!b});var c=this.root+(a=this.getFragment(a||""));if(a=a.replace(I,""),this.fragment!==a){if(this.fragment=a,""===a&&"/"!==c&&(c=c.slice(0,-1)),this._hasPushState)this.history[b.replace?"replaceState":"pushState"]({},document.title,c);else{if(!this._wantsHashChange)return this.location.assign(c);this._updateHash(this.location,a,b.replace),this.iframe&&a!==this.getFragment(this.getHash(this.iframe))&&(b.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,a,b.replace))}return b.trigger?this.loadUrl(a):void 0}},_updateHash:function(a,b,c){if(c){var d=a.href.replace(/(javascript:|#).*$/,"");a.replace(d+"#"+b)}else a.hash="#"+b}}),b.history=new D;var J=function(a,b){var d,e=this;d=a&&c.has(a,"constructor")?a.constructor:function(){return e.apply(this,arguments)},c.extend(d,e,b);var f=function(){this.constructor=d};return f.prototype=e.prototype,d.prototype=new f,a&&c.extend(d.prototype,a),d.__super__=e.prototype,d};m.extend=o.extend=y.extend=t.extend=D.extend=J;var K=function(){throw new Error('A "url" property or function must be specified')},L=function(a,b){var c=b.error;b.error=function(d){c&&c(a,d,b),a.trigger("error",a,d,b)}};return b});
!function(a){var b=/iPhone/i,c=/iPod/i,d=/iPad/i,e=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,f=/Android/i,g=/IEMobile/i,h=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,i=/BlackBerry/i,j=/Opera Mini/i,k=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,l=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),m=function(a,b){return a.test(b)},n=function(a){var n=a||navigator.userAgent;this.apple={phone:m(b,n),ipod:m(c,n),tablet:m(d,n),device:m(b,n)||m(c,n)||m(d,n)},this.android={phone:m(e,n),tablet:!m(e,n)&&m(f,n),device:m(e,n)||m(f,n)},this.windows={phone:m(g,n),tablet:m(h,n),device:m(g,n)||m(h,n)},this.other={blackberry:m(i,n),opera:m(j,n),firefox:m(k,n),device:m(i,n)||m(j,n)||m(k,n)},this.seven_inch=m(l,n),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet},o=new n;o.Class=n,"undefined"!=typeof module&&module.exports?module.exports=o:"function"==typeof define&&define.amd&&define(o),a.isMobile=o}(this);
/*! Lazy Load 1.9.3 - MIT license - Copyright 2010-2013 Mika Tuupola */
!function(a,b,c,d){var e=a(b);a.fn.lazyload=function(f){function g(){var b=0;i.each(function(){var c=a(this);if(!j.skip_invisible||c.is(":visible"))if(a.abovethetop(this,j)||a.leftofbegin(this,j));else if(a.belowthefold(this,j)||a.rightoffold(this,j)){if(++b>j.failure_limit)return!1}else c.trigger("appear"),b=0})}var h,i=this,j={threshold:0,failure_limit:0,event:"scroll",effect:"show",container:b,data_attribute:"original",skip_invisible:!0,appear:null,load:null,placeholder:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVBhXYzh8+PB/AAffA0nNPuCLAAAAAElFTkSuQmCC"};return f&&(d!==f.failurelimit&&(f.failure_limit=f.failurelimit,delete f.failurelimit),d!==f.effectspeed&&(f.effect_speed=f.effectspeed,delete f.effectspeed),a.extend(j,f)),h=j.container===d||j.container===b?e:a(j.container),0===j.event.indexOf("scroll")&&h.bind(j.event,function(){return g()}),this.each(function(){var b=this,c=a(b);b.loaded=!1,(c.attr("src")===d||c.attr("src")===!1)&&c.is("img")&&c.attr("src",j.placeholder),c.one("appear",function(){if(!this.loaded){if(j.appear){var d=i.length;j.appear.call(b,d,j)}a("<img />").bind("load",function(){var d=c.attr("data-"+j.data_attribute);c.hide(),c.is("img")?c.attr("src",d):c.css("background-image","url('"+d+"')"),c[j.effect](j.effect_speed),b.loaded=!0;var e=a.grep(i,function(a){return!a.loaded});if(i=a(e),j.load){var f=i.length;j.load.call(b,f,j)}}).attr("src",c.attr("data-"+j.data_attribute))}}),0!==j.event.indexOf("scroll")&&c.bind(j.event,function(){b.loaded||c.trigger("appear")})}),e.bind("resize",function(){g()}),/(?:iphone|ipod|ipad).*os 5/gi.test(navigator.appVersion)&&e.bind("pageshow",function(b){b.originalEvent&&b.originalEvent.persisted&&i.each(function(){a(this).trigger("appear")})}),a(c).ready(function(){g()}),this},a.belowthefold=function(c,f){var g;return g=f.container===d||f.container===b?(b.innerHeight?b.innerHeight:e.height())+e.scrollTop():a(f.container).offset().top+a(f.container).height(),g<=a(c).offset().top-f.threshold},a.rightoffold=function(c,f){var g;return g=f.container===d||f.container===b?e.width()+e.scrollLeft():a(f.container).offset().left+a(f.container).width(),g<=a(c).offset().left-f.threshold},a.abovethetop=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollTop():a(f.container).offset().top,g>=a(c).offset().top+f.threshold+a(c).height()},a.leftofbegin=function(c,f){var g;return g=f.container===d||f.container===b?e.scrollLeft():a(f.container).offset().left,g>=a(c).offset().left+f.threshold+a(c).width()},a.inviewport=function(b,c){return!(a.rightoffold(b,c)||a.leftofbegin(b,c)||a.belowthefold(b,c)||a.abovethetop(b,c))},a.extend(a.expr[":"],{"below-the-fold":function(b){return a.belowthefold(b,{threshold:0})},"above-the-top":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-screen":function(b){return a.rightoffold(b,{threshold:0})},"left-of-screen":function(b){return!a.rightoffold(b,{threshold:0})},"in-viewport":function(b){return a.inviewport(b,{threshold:0})},"above-the-fold":function(b){return!a.belowthefold(b,{threshold:0})},"right-of-fold":function(b){return a.rightoffold(b,{threshold:0})},"left-of-fold":function(b){return!a.rightoffold(b,{threshold:0})}})}(jQuery,window,document);
/*!
 * jQuery Transit - CSS3 transitions and transformations
 * (c) 2011-2014 Rico Sta. Cruz
 * MIT Licensed.
 *
 * http://ricostacruz.com/jquery.transit
 * http://github.com/rstacruz/jquery.transit
 */
!function(a,b){"function"==typeof define&&define.amd?define(["jquery"],b):"object"==typeof exports?module.exports=b(require("jquery")):b(a.jQuery)}(this,function(a){function b(a){if(a in l.style)return a;for(var b=["Moz","Webkit","O","ms"],c=a.charAt(0).toUpperCase()+a.substr(1),d=0;d<b.length;++d){var e=b[d]+c;if(e in l.style)return e}}function c(){return l.style[m.transform]="",l.style[m.transform]="rotateY(90deg)",""!==l.style[m.transform]}function d(a){return"string"==typeof a&&this.parse(a),this}function e(a,b,c){b===!0?a.queue(c):b?a.queue(b,c):a.each(function(){c.call(this)})}function f(b){var c=[];return a.each(b,function(b){b=a.camelCase(b),b=a.transit.propertyMap[b]||a.cssProps[b]||b,b=i(b),m[b]&&(b=i(m[b])),-1===a.inArray(b,c)&&c.push(b)}),c}function g(b,c,d,e){var g=f(b);a.cssEase[d]&&(d=a.cssEase[d]);var h=""+k(c)+" "+d;parseInt(e,10)>0&&(h+=" "+k(e));var i=[];return a.each(g,function(a,b){i.push(b+" "+h)}),i.join(", ")}function h(b,c){c||(a.cssNumber[b]=!0),a.transit.propertyMap[b]=m.transform,a.cssHooks[b]={get:function(c){var d=a(c).css("transit:transform");return d.get(b)},set:function(c,d){var e=a(c).css("transit:transform");e.setFromString(b,d),a(c).css({"transit:transform":e})}}}function i(a){return a.replace(/([A-Z])/g,function(a){return"-"+a.toLowerCase()})}function j(a,b){return"string"!=typeof a||a.match(/^[\-0-9\.]+$/)?""+a+b:a}function k(b){var c=b;return"string"!=typeof c||c.match(/^[\-0-9\.]+/)||(c=a.fx.speeds[c]||a.fx.speeds._default),j(c,"ms")}a.transit={version:"0.9.11",propertyMap:{marginLeft:"margin",marginRight:"margin",marginBottom:"margin",marginTop:"margin",paddingLeft:"padding",paddingRight:"padding",paddingBottom:"padding",paddingTop:"padding"},enabled:!0,useTransitionEnd:!1};var l=document.createElement("div"),m={},n=navigator.userAgent.toLowerCase().indexOf("chrome")>-1;m.transition=b("transition"),m.transitionDelay=b("transitionDelay"),m.transform=b("transform"),m.transformOrigin=b("transformOrigin"),m.filter=b("Filter"),m.transform3d=c();var o={transition:"transitionend",MozTransition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",msTransition:"MSTransitionEnd"},p=m.transitionEnd=o[m.transition]||null;for(var q in m)m.hasOwnProperty(q)&&"undefined"==typeof a.support[q]&&(a.support[q]=m[q]);return l=null,a.cssEase={_default:"ease","in":"ease-in",out:"ease-out","in-out":"ease-in-out",snap:"cubic-bezier(0,1,.5,1)",easeInCubic:"cubic-bezier(.550,.055,.675,.190)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},a.cssHooks["transit:transform"]={get:function(b){return a(b).data("transform")||new d},set:function(b,c){var e=c;e instanceof d||(e=new d(e)),b.style[m.transform]="WebkitTransform"!==m.transform||n?e.toString():e.toString(!0),a(b).data("transform",e)}},a.cssHooks.transform={set:a.cssHooks["transit:transform"].set},a.cssHooks.filter={get:function(a){return a.style[m.filter]},set:function(a,b){a.style[m.filter]=b}},a.fn.jquery<"1.8"&&(a.cssHooks.transformOrigin={get:function(a){return a.style[m.transformOrigin]},set:function(a,b){a.style[m.transformOrigin]=b}},a.cssHooks.transition={get:function(a){return a.style[m.transition]},set:function(a,b){a.style[m.transition]=b}}),h("scale"),h("scaleX"),h("scaleY"),h("translate"),h("rotate"),h("rotateX"),h("rotateY"),h("rotate3d"),h("perspective"),h("skewX"),h("skewY"),h("x",!0),h("y",!0),d.prototype={setFromString:function(a,b){var c="string"==typeof b?b.split(","):b.constructor===Array?b:[b];c.unshift(a),d.prototype.set.apply(this,c)},set:function(a){var b=Array.prototype.slice.apply(arguments,[1]);this.setter[a]?this.setter[a].apply(this,b):this[a]=b.join(",")},get:function(a){return this.getter[a]?this.getter[a].apply(this):this[a]||0},setter:{rotate:function(a){this.rotate=j(a,"deg")},rotateX:function(a){this.rotateX=j(a,"deg")},rotateY:function(a){this.rotateY=j(a,"deg")},scale:function(a,b){void 0===b&&(b=a),this.scale=a+","+b},skewX:function(a){this.skewX=j(a,"deg")},skewY:function(a){this.skewY=j(a,"deg")},perspective:function(a){this.perspective=j(a,"px")},x:function(a){this.set("translate",a,null)},y:function(a){this.set("translate",null,a)},translate:function(a,b){void 0===this._translateX&&(this._translateX=0),void 0===this._translateY&&(this._translateY=0),null!==a&&void 0!==a&&(this._translateX=j(a,"px")),null!==b&&void 0!==b&&(this._translateY=j(b,"px")),this.translate=this._translateX+","+this._translateY}},getter:{x:function(){return this._translateX||0},y:function(){return this._translateY||0},scale:function(){var a=(this.scale||"1,1").split(",");return a[0]&&(a[0]=parseFloat(a[0])),a[1]&&(a[1]=parseFloat(a[1])),a[0]===a[1]?a[0]:a},rotate3d:function(){for(var a=(this.rotate3d||"0,0,0,0deg").split(","),b=0;3>=b;++b)a[b]&&(a[b]=parseFloat(a[b]));return a[3]&&(a[3]=j(a[3],"deg")),a}},parse:function(a){var b=this;a.replace(/([a-zA-Z0-9]+)\((.*?)\)/g,function(a,c,d){b.setFromString(c,d)})},toString:function(a){var b=[];for(var c in this)if(this.hasOwnProperty(c)){if(!m.transform3d&&("rotateX"===c||"rotateY"===c||"perspective"===c||"transformOrigin"===c))continue;"_"!==c[0]&&b.push(a&&"scale"===c?c+"3d("+this[c]+",1)":a&&"translate"===c?c+"3d("+this[c]+",0)":c+"("+this[c]+")")}return b.join(" ")}},a.fn.transition=a.fn.transit=function(b,c,d,f){var h=this,i=0,j=!0,l=jQuery.extend(!0,{},b);"function"==typeof c&&(f=c,c=void 0),"object"==typeof c&&(d=c.easing,i=c.delay||0,j="undefined"==typeof c.queue?!0:c.queue,f=c.complete,c=c.duration),"function"==typeof d&&(f=d,d=void 0),"undefined"!=typeof l.easing&&(d=l.easing,delete l.easing),"undefined"!=typeof l.duration&&(c=l.duration,delete l.duration),"undefined"!=typeof l.complete&&(f=l.complete,delete l.complete),"undefined"!=typeof l.queue&&(j=l.queue,delete l.queue),"undefined"!=typeof l.delay&&(i=l.delay,delete l.delay),"undefined"==typeof c&&(c=a.fx.speeds._default),"undefined"==typeof d&&(d=a.cssEase._default),c=k(c);var n=g(l,c,d,i),o=a.transit.enabled&&m.transition,q=o?parseInt(c,10)+parseInt(i,10):0;if(0===q){var r=function(a){h.css(l),f&&f.apply(h),a&&a()};return e(h,j,r),h}var s={},t=function(c){var d=!1,e=function(){d&&h.unbind(p,e),q>0&&h.each(function(){this.style[m.transition]=s[this]||null}),"function"==typeof f&&f.apply(h),"function"==typeof c&&c()};q>0&&p&&a.transit.useTransitionEnd?(d=!0,h.bind(p,e)):window.setTimeout(e,q),h.each(function(){q>0&&(this.style[m.transition]=n),a(this).css(b)})},u=function(a){this.offsetWidth,t(a)};return e(h,j,u),this},a.transit.getTransitionValue=g,a});
(function(){"use strict";var a,b;if(a=window.location,!a.origin){b=""+a.protocol+"//"+a.hostname+(a.port?":"+a.port:"");try{Object.defineProperty(a,"origin",{value:b,enumerable:!0})}catch(c){a.origin=b}}}).call(this);
/*! modernizr-on 2013-05-01 */
var Modernizr=function(n,o){var r=[];n._version.split(".")[0]>2&&window.console&&console.warn("Modernizr.on prolly isn't needed from v3 onwards!");var e=function(){for(var i,t=r.length;t--;)i=r[t][0],n[i]!==o&&(r[t][1](n[i]),r.splice(t,1));r.length&&setTimeout(e,100)};return n.on=function(n,o){r.push([n,o]),setTimeout(e,0)},n}(Modernizr);
/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */
!function(a,b){"function"==typeof define&&define.amd?define(b):"object"==typeof exports?module.exports=b():a.NProgress=b()}(this,function(){function a(a,b,c){return b>a?b:a>c?c:a}function b(a){return 100*(-1+a)}function c(a,c,d){var e;return e="translate3d"===j.positionUsing?{transform:"translate3d("+b(a)+"%,0,0)"}:"translate"===j.positionUsing?{transform:"translate("+b(a)+"%,0)"}:{"margin-left":b(a)+"%"},e.transition="all "+c+"ms "+d,e}function d(a,b){var c="string"==typeof a?a:g(a);return c.indexOf(" "+b+" ")>=0}function e(a,b){var c=g(a),e=c+b;d(c,b)||(a.className=e.substring(1))}function f(a,b){var c,e=g(a);d(a,b)&&(c=e.replace(" "+b+" "," "),a.className=c.substring(1,c.length-1))}function g(a){return(" "+(a.className||"")+" ").replace(/\s+/gi," ")}function h(a){a&&a.parentNode&&a.parentNode.removeChild(a)}var i={};i.version="0.1.6";var j=i.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};i.configure=function(a){var b,c;for(b in a)c=a[b],void 0!==c&&a.hasOwnProperty(b)&&(j[b]=c);return this},i.status=null,i.set=function(b){var d=i.isStarted();b=a(b,j.minimum,1),i.status=1===b?null:b;var e=i.render(!d),f=e.querySelector(j.barSelector),g=j.speed,h=j.easing;return e.offsetWidth,k(function(a){""===j.positionUsing&&(j.positionUsing=i.getPositioningCSS()),l(f,c(b,g,h)),1===b?(l(e,{transition:"none",opacity:1}),e.offsetWidth,setTimeout(function(){l(e,{transition:"all "+g+"ms linear",opacity:0}),setTimeout(function(){i.remove(),a()},g)},g)):setTimeout(a,g)}),this},i.isStarted=function(){return"number"==typeof i.status},i.start=function(){i.status||i.set(0);var a=function(){setTimeout(function(){i.status&&(i.trickle(),a())},j.trickleSpeed)};return j.trickle&&a(),this},i.done=function(a){return a||i.status?i.inc(.3+.5*Math.random()).set(1):this},i.inc=function(b){var c=i.status;return c?("number"!=typeof b&&(b=(1-c)*a(Math.random()*c,.1,.95)),c=a(c+b,0,.994),i.set(c)):i.start()},i.trickle=function(){return i.inc(Math.random()*j.trickleRate)},function(){var a=0,b=0;i.promise=function(c){return c&&"resolved"!=c.state()?(0==b&&i.start(),a++,b++,c.always(function(){b--,0==b?(a=0,i.done()):i.set((a-b)/a)}),this):this}}(),i.render=function(a){if(i.isRendered())return document.getElementById("nprogress");e(document.documentElement,"nprogress-busy");var c=document.createElement("div");c.id="nprogress",c.innerHTML=j.template;var d,f=c.querySelector(j.barSelector),g=a?"-100":b(i.status||0),k=document.querySelector(j.parent);return l(f,{transition:"all 0 linear",transform:"translate3d("+g+"%,0,0)"}),j.showSpinner||(d=c.querySelector(j.spinnerSelector),d&&h(d)),k!=document.body&&e(k,"nprogress-custom-parent"),k.appendChild(c),c},i.remove=function(){f(document.documentElement,"nprogress-busy"),f(document.querySelector(j.parent),"nprogress-custom-parent");var a=document.getElementById("nprogress");a&&h(a)},i.isRendered=function(){return!!document.getElementById("nprogress")},i.getPositioningCSS=function(){var a=document.body.style,b="WebkitTransform"in a?"Webkit":"MozTransform"in a?"Moz":"msTransform"in a?"ms":"OTransform"in a?"O":"";return b+"Perspective"in a?"translate3d":b+"Transform"in a?"translate":"margin"};var k=function(){function a(){var c=b.shift();c&&c(a)}var b=[];return function(c){b.push(c),1==b.length&&a()}}(),l=function(){function a(a){return a.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(a,b){return b.toUpperCase()})}function b(a){var b=document.body.style;if(a in b)return a;for(var c,d=e.length,f=a.charAt(0).toUpperCase()+a.slice(1);d--;)if(c=e[d]+f,c in b)return c;return a}function c(c){return c=a(c),f[c]||(f[c]=b(c))}function d(a,b,d){b=c(b),a.style[b]=d}var e=["Webkit","O","Moz","ms"],f={};return function(a,b){var c,e,f=arguments;if(2==f.length)for(c in b)e=b[c],void 0!==e&&b.hasOwnProperty(c)&&d(a,c,e);else d(a,f[1],f[2])}}();return i});
/*! http://mths.be/contains v0.2.0 by @mathias */
String.prototype.contains||!function(){"use strict";var a={}.toString,b=function(){try{var a={},b=Object.defineProperty,c=b(a,a,a)&&b}catch(d){}return c}(),c="".indexOf,d=function(b){if(null==this)throw TypeError();var d=String(this);if(b&&"[object RegExp]"==a.call(b))throw TypeError();var e=d.length,f=String(b),g=f.length,h=arguments.length>1?arguments[1]:void 0,i=h?Number(h):0;i!=i&&(i=0);var j=Math.min(Math.max(i,0),e);return g+j>e?!1:-1!=c.call(d,f,i)};b?b(String.prototype,"contains",{value:d,configurable:!0,writable:!0}):String.prototype.contains=d}();
/*! Copyright (c) 2013 - 2014 Shinnosuke Watanabe | MIT License */
(function(){"use strict";var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;b=$(window),a=$(document),jQuery.fn.safeAnimate=function(){var a;return a=Array.prototype.slice,function(){var b,c;return b=a.call(arguments,0),(c=this.stop()).animate.apply(c,b)}}(),$.support.transition||($.fn.transition=$.fn.animate),jQuery.fn.centerHeight=function(){var a;return a=$(this),Math.round(a.position().top+.5*a.height())},jQuery.fn._enableWebP=function(){return this},Modernizr.on("webp",function(a){return a?jQuery.fn._enableWebP=function(){return this.each(function(){var a,b;return a=$(this),b=a.attr("data-original").replace("img/","img/webp/").replace(".jpg",".webp").replace(".png",".webp"),a.attr("data-original",b)}),this}:void 0}),"undefined"!=typeof document.hidden?(s="hidden",v="visibilitychange"):"undefined"!=typeof document.mozHidden?(s="mozHidden",v="mozvisibilitychange"):"undefined"!=typeof document.msHidden?(s="msHidden",v="msvisibilitychange"):"undefined"!=typeof document.webkitHidden&&(s="webkitHidden",v="webkitvisibilitychange"),q=r=t=null,$(function(){var a,b;return t=new l,q=new c({model:new h}),r=new d,a=new i,Backbone.history.start({pushState:!0,root:"/"}),$(".intersection .point > div").css({visibility:"visible"}),b=function(){return q.refresh()},t.on("route",function(){return b()}),b()}),h=Backbone.Model.extend({categorize:function(){var a,b,c,d;if(c=Backbone.history.fragment,b="index",a="index",c.contains("projects")){b="projects";for(d in u)location.href.contains(""+d+".")&&(a=d)}else c.contains("about")&&(b="about",a="about");return this.set({category:b,basename:a})}}),l=Backbone.Router.extend({constructor:function(){return l.instance||(l.instance=this,Backbone.Router.apply(l.instance,arguments)),l.instance},prev:Backbone.history.fragment,routes:{"":"index","index.html":"index","about.html":"about","projects.html":"projects","projects/:name":"project-single"},index:function(){return r.render("/index.html",function(){return r.show(),(new e).render()})},about:function(){return r.render("/about.html",function(){return r.show()})},projects:function(){return r.render("/projects.html",function(){return r.show(),(new k).render(),new m})},"project-single":function(a){return r.render("/projects/"+a,function(){return(new j).render()})}}),NProgress.configure({trickleRate:.2,trickleSpeed:265,showSpinner:!1}),c=Backbone.View.extend({el:"#container",events:{"click a:not([target])":"setInternalLink"},initialize:function(){return this.menuTabs=new n,this.verticalNav=new p,this.model.on("change:category",function(a){return function(b,c){return a.menuTabs.activate(c),a.verticalNav.setLink(c)}}(this)),this.model.on("change:basename",function(a){return function(b,c){return a.verticalNav.render(c)}}(this)),a.on(v,function(a){return function(){return a.verticalNav.render(a.model.get("basename"))}}(this))},setInternalLink:function(a){return a.preventDefault(),r.hide(function(){var b;return b=$(a.currentTarget).attr("href").replace(location.origin,""),t.navigate(b,{trigger:!0}),t.prev===Backbone.history.fragment&&r.show(),scrollTo(0,0)})},refresh:function(){return this.model.categorize()}}),n=Backbone.View.extend({el:"#tabs > a",activate:function(a){return this.$el.filter(".active").removeClass("active").end().filter("[data-category="+a+"]").addClass("active")}}),p=Backbone.View.extend({el:"header div.intersection",initialize:function(){return this.labels=new f,this.points=new g,this.line=new o},hide:function(){return this.line.hide(),this.$el.fadeOut(42)},setLink:function(a){var b,c;return b=this.$el.find("a"),c=b.attr("href").replace(/\/[^\/]+?\.html/,"/"+a+".html"),b.attr("href",c)},render:function(a){var b;return this.points.show(),"index"===a?this.hide():(b=u[q.model.get("basename")],b.title&&($("#first-location").show(),$("#first-location .label").text(b.title),$("#project-title, #project-info").fadeOut(42),this.line.extendToFirst(),$("#first-point").css({top:""+.5*$("#first-location").height()+"px"})),b.proj_title?($("#first-location .label").text(""),$(".intersection").show(),$("#project-title > .label").text(b.proj_title),$("#project-info .time").text(b.time),$("#project-info .roles").text(b.role.join(" / ")),this.line.extendToProject(),$("#first-point").css({top:""+.5*$("#first-location").height()+"px"}),$("#project-title-point").css({top:""+.5*$("#project-title").height()+"px"}),$("#project-info-point").css({top:""+.5*$("#project-info").height()+"px"})):void 0)}}),g=Backbone.View.extend({el:"div.intersection .point > div",hide:function(){var a;return a=this.$el.eq(0)},show:function(){return this.$el.fadeIn()}}),f=Backbone.View.extend({el:"div.intersection > .label"}),o=Backbone.View.extend({el:"#vertical-line",hide:function(){return this.$el.transit({height:"0"})},extendToFirst:function(){return this.$el.transit({height:$("#first-location").centerHeight()+"px"})},extendToProject:function(){return this.$el.transit({height:$("#project-info").centerHeight()+"px"})}}),i=Backbone.View.extend({el:"#prev-project-button, #next-project-button",initialize:function(){return b.on("resize",function(a){return function(){return a.render()}}(this))},render:function(){Modernizr.mq("only screen and (min-width: 1280px)")}}),d=Backbone.View.extend({el:"main",hide:function(a){return NProgress.set(0).start(),this.$el.fadeTo(8,.01,function(){return a?a():void 0})},show:function(a){return NProgress.done(),this.$el.fadeTo(80,1),t.prev=Backbone.history.fragment,a?a():void 0},render:function(a,b){return this.$el.load(""+a+" #content",b)}}),e=Backbone.View.extend({el:".top",reset:function(){return $(".top .inner").transition({paddingTop:"0"},400),$(".wide-image").css("width","100%"),$(".featured-works").css("visibility","visible").fadeTo(750,1)},render:function(){var a;return a=this,b.one("scoll",a.reset()),$("#scroll-down").on("click",function(){return $("html,body").animate({scrollTop:""+$("header").height()+"px"},400),a.reset()}),$("img[data-original]").removeAttr("src")._enableWebP().lazyload({effect:"fadeIn",threshold:.25*b.height(),skip_invisible:!1,placeholder:"/img/transparent.gif"}),$("#logo").delay(200).transition({backgroundPosition:"0px 0px"},500)}}),k=Backbone.View.extend({el:"img[data-original]",render:function(){return this.$el.removeAttr("src")._enableWebP().lazyload({effect:"fadeIn",threshold:.15*b.height(),placeholder:"/img/transparent.gif"})}}),j=Backbone.View.extend({el:"img[data-original]",render:function(){var a;return a=$(".video-wrapper").length>0,a&&r.show(),this.$el.removeAttr("src")._enableWebP().lazyload({effect:"fadeIn",threshold:.5*b.height(),placeholder:"/img/transparent.gif",effect_speed:{start:function(){var b;return b=$(this),!a&&b.is(".project-image:eq(0)")?(b.finish(),r.show()):void 0},always:function(){return $(".image-wrapper").find(this).unwrap()}}})}}),m=Backbone.View.extend({el:"#show-more-commits span",events:{click:"show"},show:function(){return this.$el.remove(),$("#commits-rest").fadeIn()}}),u={projects:{title:""},openstudio:{proj_title:" OPEN STUDIO 2013 Web",time:2013,role:["","UI",""]},react:{proj_title:"re(a)ct",time:2013,role:["","UI",""]},aquarium:{proj_title:"Twinkle Aquarium",time:2013,role:["",""]},wave:{proj_title:"Wave to Wave",time:"2011 - 2012",role:["",""]},thaw:{proj_title:"",time:"2009 - 2010, 2012",role:["",""]},index:{},about:{title:""}}}).call(this);